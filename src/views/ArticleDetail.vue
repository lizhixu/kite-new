<template>
  <el-row class="main-content">
    <el-col :span="17" class="content">
      <el-card class="box-card">
        <el-breadcrumb :separator-icon="ArrowRight">
          <el-breadcrumb-item :to="{ path: '/' }">é¦–é¡µ</el-breadcrumb-item>
          <el-breadcrumb-item>PHP</el-breadcrumb-item>
          <el-breadcrumb-item>æ­£æ–‡</el-breadcrumb-item>
        </el-breadcrumb>
        <avue-article id="article" class="article-detail" :props="props"
                      :data="data"></avue-article>
        <div class="privacy_agreement mgt10">
          <p>ç‰ˆæƒå£°æ˜ï¼š</p>
          <p>ä½œè€…ï¼šå¾·ç›è¥¿äºš</p>
          <p>é“¾æ¥ï¼šxxx</p>
          <p>æ–‡ç« ç‰ˆæƒå½’ä½œè€…æ‰€æœ‰ï¼Œè½¬è½½è¯·æ ‡æ˜å‡ºå¤„ã€‚</p>
        </div>

        <div class="create-desc mgt10">
          æœ€åæ›´æ–°æ—¶é—´ï¼š2022å¹´10æœˆ17æ—¥ 14:23:05
        </div>
      </el-card>
      <el-card class="mgt10" v-show="false">
        <el-row>
          <el-col :span="10">
            <u-fold line="1">
              <h4>
                <router-link to="">
                  æ¯å½“ç™½æ—¥ä¾å±±å°½ï¼Œå¤•é˜³ä½™è¾‰ä¾¿é€è¿‡æœµæœµäº‘å±‚ï¼Œåƒä¸‡é“é‡‘å…‰ï¼Œå¦‚éœå…‰ä¸‡ä¸ˆï¼ŒæŠŠå¤©ç©ºç™½äº‘æŸ“å¾—çº¢å½¤å½¤ï¼ŒæŠŠå¤§åœ°å±±æ²³æ˜ å¾—é‡‘ç¿ç¿ï¼Œä»¿ä½›æ•´ä¸ªä¸–ç•Œåœ¨é‚£ä¸€ç¬é—´éƒ½å˜å¾—é‡‘ç¢§è¾‰ç…Œï¼Œçƒ­æƒ…å¥”æ”¾èµ·æ¥
                </router-link>
              </h4>
            </u-fold>
          </el-col>
          <el-col :span="4"></el-col>
          <el-col :span="10">
            <u-fold line="1">
              <h4>
                <router-link to="">
                  æ¯å½“ç™½æ—¥ä¾å±±å°½ï¼Œå¤•é˜³ä½™è¾‰ä¾¿é€è¿‡æœµæœµäº‘å±‚ï¼Œåƒä¸‡é“é‡‘å…‰ï¼Œå¦‚éœå…‰ä¸‡ä¸ˆï¼ŒæŠŠå¤©ç©ºç™½äº‘æŸ“å¾—çº¢å½¤å½¤ï¼ŒæŠŠå¤§åœ°å±±æ²³æ˜ å¾—é‡‘ç¿ç¿ï¼Œä»¿ä½›æ•´ä¸ªä¸–ç•Œåœ¨é‚£ä¸€ç¬é—´éƒ½å˜å¾—é‡‘ç¢§è¾‰ç…Œï¼Œçƒ­æƒ…å¥”æ”¾èµ·æ¥
                </router-link>
              </h4>
            </u-fold>
          </el-col>
        </el-row>
      </el-card>
      <el-card class="mgt10" id="comment">
        <div class="comment-view" style="padding: 0px">
          <u-comment :config="config" @submit="submit" @like="like" @remove="remove" @report="report">
            <template #list-title>å…¨éƒ¨è¯„è®º</template>
          </u-comment>
        </div>
      </el-card>
    </el-col>
    <el-col :span="7" class="sidebar">
      <div class="sidebar__inner">
        <Category/>
        <RecentlyPublished class="mgt10"/>
        <el-card class="article-catalog mgt10">
          <template #header>
            <div class="card-header">
              <span class="c-s-title">ç›®å½•</span>
            </div>
          </template>
          <u-anchor container="#article"></u-anchor>
        </el-card>
      </div>
    </el-col>
  </el-row>
</template>
<script setup>
import {ArrowRight} from '@element-plus/icons-vue'
import {UToast} from 'undraw-ui'
import emoji from '@/emoji'
import StickySidebar from "sticky-sidebar-v2";
import router from "@/router";

onMounted(() => {
  new StickySidebar('.sidebar', {
    topSpacing: 20,
    bottomSpacing: 20,
    containerSelector: '.main-content',
    scrollContainer: '#main-viewport'
  });
  const slide = document.getElementById(router.currentRoute.value.hash.substring(1))
  if (slide){
    slide.scrollIntoView()
  }
})

const data = ref({
  title: 'æ°¸è¿œçš„è´è¶',
  meta: 'é™ˆå¯ä½‘ï¼ˆå°æ¹¾ï¼‰',
  lead: 'ã€Šæ°¸è¿œçš„è´è¶ã€‹æ˜¯å°æ¹¾è‘—åä½œå®¶é™ˆå¯ä½‘å…ˆç”Ÿçš„ä¸€ç¯‡å°å°è¯´ã€‚è¿™æ˜¯ä¸€ç¯‡æ•£æ–‡åŒ–çš„å¾®å‹å°è¯´ï¼Œå…¶è¯­è¨€å…·æœ‰è¾ƒå¼ºçš„æŠ’æƒ…è‰²å½©ï¼Œç«‹æ„å«è“„éš½æ°¸ ã€‚ä½œå“æƒ…èŠ‚å¾ˆç®€å•ï¼Œå†™çš„æ˜¯ä¸€ä¸ªå‡„ç¾çš„çˆ±æƒ…æ•…äº‹ã€‚åœ¨ä¸€ä¸ªé›¨å¤©ï¼Œâ€œæˆ‘â€çš„æ‹äººæ¨±å­è‡ªæ„¿å¸®â€œæˆ‘â€åˆ°é©¬è·¯å¯¹é¢å»å¯„ä¿¡ã€‚éšç€ä¸€é˜µæ‹”å°–çš„åˆ¹è½¦å£°ï¼Œæ¨±å­å¹´è½»çš„ç”Ÿå‘½æ¶ˆé€äº†ã€‚',
  body: `<h2>å“ˆå“ˆå“ˆ</h2><p>é‚£æ—¶å€™åˆšå¥½ä¸‹ç€é›¨ï¼ŒæŸæ²¹è·¯é¢æ¹¿å†·å†·çš„ï¼Œè¿˜é—ªçƒç€é’ã€é»„ã€çº¢é¢œè‰²çš„ç¯ç«ã€‚æˆ‘ä»¬å°±åœ¨éª‘æ¥¼ä¸‹èº²é›¨ï¼Œçœ‹ç»¿è‰²çš„é‚®ç­’å­¤ç‹¬åœ°ç«™åœ¨è¡—çš„å¯¹é¢ã€‚æˆ‘ç™½è‰²é£è¡£çš„å¤§å£è¢‹é‡Œæœ‰ä¸€å°è¦å¯„ç»™å—éƒ¨çš„æ¯äº²çš„ä¿¡ã€‚æ¨±å­è¯´å¥¹å¯ä»¥æ’‘ä¼è¿‡å»å¸®æˆ‘å¯„ä¿¡ã€‚æˆ‘é»˜é»˜ç‚¹å¤´ã€‚</p>
                <p>â€œè°å«æˆ‘ä»¬åªå¸¦æ¥ä¸€æŠŠå°ä¼å“ªã€‚â€å¥¹å¾®ç¬‘ç€è¯´ï¼Œä¸€é¢æ’‘èµ·ä¼ï¼Œå‡†å¤‡è¿‡é©¬è·¯å¸®æˆ‘å¯„ä¿¡ã€‚ä»å¥¹ä¼éª¨æ¸—ä¸‹æ¥çš„å°é›¨ç‚¹ï¼Œæº…åœ¨æˆ‘çš„çœ¼é•œç»ç’ƒä¸Šã€‚</p>
                <p>éšç€ä¸€é˜µæ‹”å°–çš„ç…è½¦å£°ï¼Œæ¨±å­çš„ä¸€ç”Ÿè½»è½»åœ°é£äº†èµ·æ¥ã€‚ç¼“ç¼“åœ°ï¼Œé£˜è½åœ¨æ¹¿å†·çš„è¡—é¢ä¸Šï¼Œå¥½åƒä¸€åªå¤œæ™šçš„è´è¶ã€‚</p>
                <p>è™½ç„¶æ˜¯æ˜¥å¤©ï¼Œå¥½åƒå·²æ˜¯ç§‹æ·±äº†ã€‚</p>
                <p>å¥¹åªæ˜¯è¿‡é©¬è·¯å»å¸®æˆ‘å¯„ä¿¡ã€‚è¿™ç®€å•çš„è¡ŒåŠ¨ï¼Œå´è¦å«æˆ‘ç»ˆèº«éš¾å¿˜äº†ã€‚æˆ‘ç¼“ç¼“çå¼€çœ¼ï¼ŒèŒ«ç„¶ç«™åœ¨éª‘æ¥¼ä¸‹ï¼Œçœ¼é‡Œè£¹ç€æ»šçƒ«çš„æ³ªæ°´ã€‚ä¸–ä¸Šæ‰€æœ‰çš„è½¦å­éƒ½åœäº†ä¸‹æ¥ï¼Œäººæ½®æ¶Œå‘é©¬è·¯ä¸­å¤®ã€‚æ²¡æœ‰äººçŸ¥é“é‚£èººåœ¨è¡—é¢çš„ï¼Œå°±æ˜¯æˆ‘çš„ï¼Œè´è¶ã€‚è¿™æ—¶å¥¹åªç¦»æˆ‘äº”å…¬å°ºï¼Œç«Ÿæ˜¯é‚£ä¹ˆé¥è¿œã€‚æ›´å¤§çš„é›¨ç‚¹æº…åœ¨æˆ‘çš„çœ¼é•œä¸Šï¼Œæº…åˆ°æˆ‘çš„ç”Ÿå‘½é‡Œæ¥ã€‚</p>
                <h2>å‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µ</h2>
                <p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåªå¸¦ä¸€æŠŠé›¨ä¼ï¼Ÿ</p>
                <p>ç„¶è€Œæˆ‘åˆçœ‹åˆ°æ¨±å­ç©¿ç€ç™½è‰²çš„é£è¡£ï¼Œæ’‘ç€ä¼ï¼Œé™é™åœ°è¿‡é©¬è·¯äº†ã€‚å¥¹æ˜¯è¦å¸®æˆ‘å¯„ä¿¡çš„ã€‚é‚£ï¼Œé‚£æ˜¯ä¸€å°å†™ç»™å—éƒ¨æ¯äº²çš„ä¿¡ã€‚æˆ‘èŒ«ç„¶ç«™åœ¨éª‘æ¥¼ä¸‹ï¼Œæˆ‘åˆçœ‹åˆ°æ°¸è¿œçš„æ¨±å­èµ°åˆ°è¡—å¿ƒã€‚å…¶å®é›¨ä¸‹å¾—å¹¶ä¸å¤§ï¼Œå´æ˜¯ä¸€ç”Ÿä¸€ä¸–ä¸­æœ€å¤§çš„ä¸€åœºé›¨ã€‚è€Œé‚£å°ä¿¡æ˜¯è¿™æ ·å†™çš„ï¼Œå¹´è½»çš„æ¨±å­çŸ¥ä¸çŸ¥é“å‘¢ï¼Ÿ</p>
                <img src="https://img1.baidu.com/it/u=3155988012,1977937542&fm=253&fmt=auto&app=138&f=JPG?w=640&h=343" alt="">
                <blockquote>
                  <p>å¦ˆï¼šæˆ‘æ‰“ç®—åœ¨ä¸‹ä¸ªæœˆå’Œæ¨±å­ç»“å©šã€‚</p>
                </blockquote><p>è™½ç„¶æ˜¯æ˜¥å¤©ï¼Œå¥½åƒå·²æ˜¯ç§‹æ·±äº†ã€‚</p>
                <p>å¥¹åªæ˜¯è¿‡é©¬è·¯å»å¸®æˆ‘å¯„ä¿¡ã€‚è¿™ç®€å•çš„è¡ŒåŠ¨ï¼Œå´è¦å«æˆ‘ç»ˆèº«éš¾å¿˜äº†ã€‚æˆ‘ç¼“ç¼“çå¼€çœ¼ï¼ŒèŒ«ç„¶ç«™åœ¨éª‘æ¥¼ä¸‹ï¼Œçœ¼é‡Œè£¹ç€æ»šçƒ«çš„æ³ªæ°´ã€‚ä¸–ä¸Šæ‰€æœ‰çš„è½¦å­éƒ½åœäº†ä¸‹æ¥ï¼Œäººæ½®æ¶Œå‘é©¬è·¯ä¸­å¤®ã€‚æ²¡æœ‰äººçŸ¥é“é‚£èººåœ¨è¡—é¢çš„ï¼Œå°±æ˜¯æˆ‘çš„ï¼Œè´è¶ã€‚è¿™æ—¶å¥¹åªç¦»æˆ‘äº”å…¬å°ºï¼Œç«Ÿæ˜¯é‚£ä¹ˆé¥è¿œã€‚æ›´å¤§çš„é›¨ç‚¹æº…åœ¨æˆ‘çš„çœ¼é•œä¸Šï¼Œæº…åˆ°æˆ‘çš„ç”Ÿå‘½é‡Œæ¥ã€‚</p>
                <p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåªå¸¦ä¸€æŠŠé›¨ä¼ï¼Ÿ</p>
                <p>ç„¶è€Œæˆ‘åˆçœ‹åˆ°æ¨±å­ç©¿ç€ç™½è‰²çš„é£è¡£ï¼Œæ’‘ç€ä¼ï¼Œé™é™åœ°è¿‡é©¬è·¯äº†ã€‚å¥¹æ˜¯è¦å¸®æˆ‘å¯„ä¿¡çš„ã€‚é‚£ï¼Œé‚£æ˜¯ä¸€å°å†™ç»™å—éƒ¨æ¯äº²çš„ä¿¡ã€‚æˆ‘èŒ«ç„¶ç«™åœ¨éª‘æ¥¼ä¸‹ï¼Œæˆ‘åˆçœ‹åˆ°æ°¸è¿œçš„æ¨±å­èµ°åˆ°è¡—å¿ƒã€‚å…¶å®é›¨ä¸‹å¾—å¹¶ä¸å¤§ï¼Œå´æ˜¯ä¸€ç”Ÿä¸€ä¸–ä¸­æœ€å¤§çš„ä¸€åœºé›¨ã€‚è€Œé‚£å°ä¿¡æ˜¯è¿™æ ·å†™çš„ï¼Œå¹´è½»çš„æ¨±å­çŸ¥ä¸çŸ¥é“å‘¢ï¼Ÿ</p>
                <blockquote>
                  <p>å¦ˆï¼šæˆ‘æ‰“ç®—åœ¨ä¸‹ä¸ªæœˆå’Œæ¨±å­ç»“å©šã€‚</p>
                </blockquote>`
})
const props = ref({
  title: 'title',
  meta: 'meta',
  lead: 'lead',
  body: 'body'
})
var config = reactive({
  user: {
    id: 1,
    username: 'user',
    avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',
    // è¯„è®ºidæ•°ç»„ å»ºè®®:å­˜å‚¨æ–¹å¼ç”¨æˆ·idå’Œæ–‡ç« idå’Œè¯„è®ºidç»„æˆå…³ç³»,æ ¹æ®ç”¨æˆ·idå’Œæ–‡ç« idæ¥è·å–å¯¹åº”ç‚¹èµè¯„è®ºid,ç„¶ååŠ å…¥åˆ°æ•°ç»„ä¸­è¿”å›
    likes: [1, 2, 11]
  },
  emoji: emoji,
  comments: []
});
var temp_id = 100;
// æäº¤è¯„è®ºäº‹ä»¶
var submit = function (content, parentId, finish) {
  console.log(content, parentId);
  var comment = {
    id: (temp_id += 1),
    parentId: parentId,
    uid: config.user.id,
    username: config.user.username,
    avatar: config.user.avatar,
    level: 6,
    link: "/" + (temp_id += 1),
    address: 'æ¥è‡ªæ±Ÿè‹',
    content: content,
    like: 0,
    createTime: '1åˆ†é’Ÿå‰',
    reply: null
  };
  setTimeout(function () {
    finish(comment);
    UToast({message: 'è¯„è®ºæˆåŠŸ!', type: 'info'});
  }, 200);
};
// åˆ é™¤è¯„è®º
var remove = function (id, finish) {
  setTimeout(function () {
    finish();
    alert("\u5220\u9664\u6210\u529F: " + id);
  }, 200);
};
//ä¸¾æŠ¥ç”¨æˆ·
var report = function (id, finish) {
  console.log(id);
  setTimeout(function () {
    finish();
    alert("\u4E3E\u62A5\u6210\u529F: " + id);
  }, 200);
};
// ç‚¹èµæŒ‰é’®äº‹ä»¶
var like = function (id, finish) {
  console.log(id);
  setTimeout(function () {
    finish();
  }, 200);
};
config.comments = [
  {
    id: 1,
    parentId: null,
    uid: 1,
    username: 'è½ğŸ¤å°˜',
    avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',
    level: 6,
    link: '/1',
    address: 'æ¥è‡ªä¸Šæµ·',
    content: 'ç¼˜ç”Ÿç¼˜ç­ï¼Œç¼˜èµ·ç¼˜è½ï¼Œæˆ‘åœ¨çœ‹åˆ«äººçš„æ•…äº‹ï¼Œåˆ«äººä½•å°ä¸æ˜¯åœ¨çœ‹æˆ‘çš„æ•…äº‹?åˆ«äººåœ¨æ¼”ç»äººç”Ÿï¼Œæˆ‘åˆä½•å°ä¸æ˜¯åœ¨è¿™åœºæˆé‡Œ?è°çš„çœ¼ç¥æ²§æ¡‘äº†è°?æˆ‘çš„çœ¼ç¥ï¼Œåªæ˜¯æ²§æ¡‘äº†è‡ªå·±[å–é…’]',
    like: 2,
    createTime: '1åˆ†é’Ÿå‰',
    reply: null
  },
  {
    id: 2,
    parentId: null,
    uid: 2,
    username: 'æ‚ŸäºŒç©º',
    avatar: 'https://static.juzicon.com/user/avatar-bf22291e-ea5c-4280-850d-88bc288fcf5d-220408002256-ZBQQ.jpeg',
    level: 1,
    link: '/2',
    address: 'æ¥è‡ªè‹å·',
    content: 'çŸ¥é“åœ¨å­¦æ ¡ä¸ºä»€ä¹ˆæ„Ÿè§‰è¿™ä¹ˆå›°å—ï¼Ÿå› ä¸ºå­¦æ ¡ï¼Œæ˜¯æ¢¦å¼€å§‹çš„åœ°æ–¹ã€‚[è„±å•doge]',
    like: 11,
    createTime: '1å¤©å‰',
    reply: {
      total: 2,
      list: [
        {
          id: 21,
          parentId: 2,
          uid: 3,
          username: 'åˆ«æ‰°æˆ‘æ¸…æ¢¦*ã',
          avatar: 'https://static.juzicon.com/user/avatar-8b6206c1-b28f-4636-8952-d8d9edec975d-191001105631-MDTM.jpg?x-oss-process=image/resize,m_fill,w_100,h_100',
          level: 5,
          link: '/21',
          address: 'æ¥è‡ªé‡åº†',
          content: 'è¯´çš„å¯¹ï¼Œæ‰€ä»¥ï¼Œç»¼ä¸Šæ‰€è¿°ï¼Œä¸Šè¯¾ç¡è§‰ä¸æ€ªæˆ‘å‘€ğŸ’¤',
          like: 3,
          createTime: '1åˆ†é’Ÿå‰'
        },
        {
          id: 22,
          parentId: 2,
          uid: 4,
          username: 'Blizzard',
          avatar: 'https://static.juzicon.com/user/avatar-3cb86a0c-08e7-4305-9ac6-34e0cf4937cc-180320123405-BCV6.jpg?x-oss-process=image/resize,m_fill,w_100,h_100',
          level: 3,
          link: '/22',
          content: 'å›å¤ <span style="color: blue;"">@åˆ«æ‰°æˆ‘æ¸…æ¢¦*ã:</span> çœ‹å®Œæ‰“äº†ä¸€ä¸ªå“ˆåˆ‡ã€‚ã€‚ã€‚ä¼šä¼ æŸ“ã€‚ã€‚ã€‚[å§”å±ˆ]',
          address: 'æ¥è‡ªå¹¿å·',
          like: 9,
          createTime: '1å¤©å‰'
        }
      ]
    }
  }
];

</script>

<style scoped>
.article-detail {
  margin-top: 20px;
}
.u-comment {
  padding: 0;
  margin-top: -30px;
}
.privacy_agreement{
  text-align: justify;
  border-radius: 8px;
  position: relative;
  background: #f2f4fc;
  padding: 15px;
  margin-bottom: 20px;
}
.privacy_agreement:after {
  content: "";
  display: block;
  width: 31px;
  height: 27px;
  position: absolute;
  background: url(/img.png) 0 0 no-repeat;
  right: 10px;
  bottom: 6px;
  background-size: 100%;
  z-index: 26;
  transform: rotateZ(180deg);
}
.create-desc{
  color: #666666;
}
</style>